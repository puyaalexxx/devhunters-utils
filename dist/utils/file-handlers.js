import{globSync}from"glob";import{unlink,access}from"fs/promises";import{constants}from"fs";export function dhtuGetFileEntries(r,t,o,n=""){const e=globSync(t),s={};return e.forEach((t=>{const e=r.basename(t,"."+o);s[e+n]=t})),s}export async function dhtuFileExists(r){try{return await access(r,constants.F_OK),!0}catch{return!1}}export async function dhtuRemoveJsGeneratedFiles(r){try{for(const t of r)if(t.includes("**")){const r=globSync(t);for(const t of r){if(!await dhtuFileExists(t))return;try{await unlink(t)}catch(r){console.error(`Error removing file ${t}`,r)}}}else{if(!await dhtuFileExists(t))return;try{await unlink(t)}catch(r){console.error(`Error removing file ${t}`,r)}}}catch(r){console.error("Error processing files",r)}}